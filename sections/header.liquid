{{ 'header.js' | asset_url | script_tag }}

<div class="header-container container">
  <!-- Logo -->
  <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset logo">
    {% if settings.logo != blank %}
      {{ settings.logo | image_url: width: 50 | image_tag }}
    {% endif %}
  </a>

  <!-- Hamburger -->
  <div class="hamburger">
    {{ 'hamburger-menu.svg' | inline_asset_content }}
  </div>

  <!-- Sidebar (Mobile Menu) -->
  <div class="sidebar">
    <div class="sidebar-header">
      <a href="{{ routes.root_url }}" class="sidebar-logo">
        {% if settings.logo != blank %}
          {{ settings.logo | image_url: width: 50 | image_tag }}
        {% endif %}
      </a>
      <div class="sidebar-close">&times;</div>
    </div>

    <div class="menu">
      {% if section.settings.menu != blank %}
        {% for link in section.settings.menu.links %}
          {% if link.links != blank %}
            <div class="menu-item">
              <div class="menu-title menu-text">
                {{ link.title }}
                <span class="svg-wrapper">
                  {{- 'icon-caret.svg' | inline_asset_content -}}
                </span>
              </div>
              <div class="submenu">
                <ul class="submenu-list">
                  {% for childlink in link.links %}
                    <li>
                      {% if childlink.links == blank %}
                        <a class="link menu-text" href="{{ childlink.url }}">
                          {{ childlink.title }}
                        </a>
                      {% else %}
                        <div class="submenu-item">
                          <div class="submenu-title menu-text">
                            {{ childlink.title }}
                            <span class="svg-wrapper">
                              {{- 'icon-caret.svg' | inline_asset_content -}}
                            </span>
                          </div>
                          <div class="nested-submenu">
                            <ul class="submenu-list">
                              {% for subchildlink in childlink.links %}
                                <li>
                                  <a class="link menu-text" href="{{ subchildlink.url }}">{{ subchildlink.title }}</a>
                                </li>
                              {% endfor %}
                            </ul>
                          </div>
                        </div>
                      {% endif %}
                    </li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          {% else %}
            <a class="link menu-text" href="{{ link.url }}">
              {{ link.title }}
            </a>
          {% endif %}
        {% endfor %}
      {% endif %}
    </div>
  </div>

  <!-- Cart & Icons -->
  <div class="header-icons">
    <div class="user-menu">
      {{ 'user.svg' | inline_asset_content }}
      <div class="svg-wrapper">
        {{- 'icon-caret.svg' | inline_asset_content -}}
      </div>
    </div>
    {{ 'icon-cart2.svg' | inline_asset_content }}
  </div>
</div>

{% schema %}
{
  "name": "Header",
  "tag": "header",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "Main Menu",
      "default": "main-menu"
    },
  ]
}
{% endschema %}
